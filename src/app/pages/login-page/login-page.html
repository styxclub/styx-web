<div class="login-form">
    <form [formGroup]="form"
          (ngSubmit)="onSubmit()"
          autocomplete="off">
        <p-card [style]="{ width: '25rem', overflow: 'hidden' }">
            <ng-template #header>
                <div class="flex center m-top">
                    <img alt="Card"
                         src="/img/logo-small.png" />
                </div>
            </ng-template>
            <ng-template #title> Iniciar sesión </ng-template>
            <div class="flex flex-col gap-4 w-full">
                <div class="flex flex-col m-top">
                    <p-floatlabel>
                        <input pInputText
                               type="text"
                               id="username"
                               formControlName="username"
                               [invalid]="isInvalid('username')"
                               class="w-full"
                               autocomplete="off" />
                        <label for="username">Usuario</label>
                    </p-floatlabel>
                    @if (isInvalid('username')) {
                    <p-message severity="error"
                               size="small"
                               variant="simple">El nombre de usuario es obligatorio.</p-message>
                    }
                </div>
                <div class="flex flex-col m-top">
                    <p-floatlabel>
                        <input pInputText
                               type="password"
                               id="password"
                               formControlName="password"
                               [invalid]="isInvalid('password')"
                               class="w-full"
                               autocomplete="off" />
                        <label for="password">Contraseña</label>
                    </p-floatlabel>
                    @if (isInvalid('password')) {
                    @if (form.get('password')?.errors?.['required']) {
                    <p-message severity="error"
                               size="small"
                               variant="simple">La contraseña es obligatoria.</p-message>
                    }
                    }
                </div>
            </div>
            <ng-template #footer>
                <div class="flex">
                    <p-button label="Continuar"
                              class="w-full"
                              styleClass="w-full"
                              type="submit" />
                </div>
            </ng-template>
        </p-card>
    </form>
</div>