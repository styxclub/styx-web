<div class="login-form">
    <form (ngSubmit)="onSubmit()"
          autocomplete="off">
        <p-card>
            <ng-template #header>
                <div class="flex center m-top">
                    <img alt="Styx"
                         ngSrc="/img/logo-small.webp"
                         width="200"
                         height="135"
                         priority />
                </div>
            </ng-template>
            <ng-template #title> Iniciar sesión </ng-template>
            <div class="flex flex-col gap-4 w-full">
                <div class="flex flex-col m-top">
                    <p-floatlabel>
                        <input pInputText
                               type="text"
                               [field]="loginForm.username"
                               id="username"
                               class="w-full"
                               autocomplete="off"
                               autocapitalize="none" />
                        <label for="username">Usuario</label>
                    </p-floatlabel>
                    @if (loginForm.username().touched() && loginForm.username().errors().length > 0) {
                    <p-message severity="error"
                               size="small"
                               variant="simple">El nombre de usuario es obligatorio.</p-message>
                    }
                </div>
                <div class="flex flex-col m-top">
                    <p-floatlabel>
                        <input pInputText
                               type="password"
                               [field]="loginForm.password"
                               id="password"
                               class="w-full"
                               autocomplete="off" />
                        <label for="password">Contraseña</label>
                    </p-floatlabel>
                    @if (loginForm.password().touched() &&loginForm.password().errors().length > 0) {
                    <p-message severity="error"
                               size="small"
                               variant="simple">La contraseña es obligatoria.</p-message>
                    }
                </div>
            </div>
            <ng-template #footer>
                <div class="flex">
                    <p-button pRipple
                              label="Continuar"
                              class="w-full"
                              styleClass="w-full"
                              [disabled]="!isValid() || submitting()"
                              [loading]="submitting()"
                              type="submit" />
                </div>
            </ng-template>
        </p-card>
    </form>
</div>